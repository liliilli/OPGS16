# 해상도 변경 시 이미지가 늘여지는 문제

> 2018-07-24 초안 및 수정 완료.

![0724_fixstretch1](D:\Development\OPGS16\Docs\Media\0724_fixstretch1.png)

해상도가 커지면 커질수록 이미지가 늘어나고 좌표도 안 맞아 버린다. `OPGS16` 이미지는 중앙에 위치해 있고, 해상도를 바꾼들 이동하는 방식에 영향은 주지 않기 때문에, 아마 카메라 혹은 프로젝션 벡터가 맞지 않은 것이 아닐까 생각을 하고 있다.

## 제안

조사 결과, `opgs16::component::CCamera` 가 문제였다. `CCamera` 역시 `0.1.0` 버전에서 `256x224` 해상도에 맞춰 왔기에 화면이 늘려짐으로써 일어나는 현상이 발생하는 것이다.

따라서 `CCamera` 의 이전 버전의 종속적인 부분을 고치면 될 것 같다.

## 구현 사항

1. 카메라의 `View` `Projection` 매트릭스를 계산할 때, 고정 수치를 `core_setting.h` 에서 가져온 `Width` 와 `Height` 을 사용해서 설정한다.
2. 카메라의 초기 위치를 `128, 112, 0` 으로 하지 않고, $$ (0, 0, 0) $$ 으로 설정한다.
3. `Canvas` 에서는 카메라를 생성할 때, 초기 위치를 `core_setting.h` 에서 가져온 `Width` 와 `Height` 을 반분 나눈 값을 $$ (x, y) $$ 로 하고, $$ z $$ 축을 10 으로 한다.

## 결과

![0724_fixstretch2](D:\Development\OPGS16\Docs\Media\0724_fixstretch2.png)

텍스쳐가 늘어지지도 않고, 위치가 흐트러지지도 않은 것을 확인할 수 있다.