# component::CProcedural2DRenderer

## Abstract

절차적 2D 텍스쳐를 생성해서 렌더링하는 렌더러 컴포넌트를 `Procedural2DRenderer` 라고 한다. 기존 `CFont2DRenderer` 나 `CSprite2DRenderer` 와는 다르게 완성형의 텍스쳐를 받지 않으며, 생성시나 임의 런타임에 텍스쳐를 절차적으로 만들어서 렌더링하게 할 수 있다.

절차적으로 만들어진 텍스쳐의 밉맵은 만들 수 없다. 생성을 할 때는 크기를 정할 수 없지만, 나중에 메서드를 통해 텍스쳐의 크기를 변경하거나 텍스쳐 렌더링 및 필터링의 옵션을 설정할 수가 있다. 만약 업데이트 도중에 크기가 변경되면, 모든 컬러 정보가 지워지고 $$ (0, 0, 0, 1) $$ 로 채워진다.

텍스쳐 버퍼의 각 채널의 바이트는 8 바이트로 제한되며 한 픽셀 당 32 비트를 가진다. 텍셀을 업데이트 할 때, 각 지점에 대한 정보를 가지는 (`DTexelInfo`) 벡터를 사용해서 업데이트를 할 수 있다. 각 지점에 대한 정보를 가지는 벡터를 사용해서 텍스쳐를 업데이트 할 때, `DTexelInfo` 의 $$ (x, y) $$ 가 이미지의 크기보다 크면, `Looping` 된다.

``` c++
struct DTexelInfo {
    DVectorInt2 position;
    DColor32 color;
};
```

한 픽셀만 업데이트 할 때는 오버로딩된 메소드를 사용해서 컨테이너가 아닌 인스턴스만을 넘긴다.

## Methods

* **`void CProcedural2DRenderer::SetSize(int32_t width, int32_t height)`**
  텍스쳐 버퍼의 크기를 바꾼다. 이 함수는 처음 컴포넌트를 생성할 때만 사용하는 것을 추천한다. 왜냐면 텍스쳐의 사이즈를 다시 재조정하기 때문에, 실행 도중에 빈번히 호출 시 상당량의 성능 저하를 유발한다.

  사이즈 변경 후의 텍스쳐 버퍼는 검정에 알파값이 1 인 색상으로 초기화된다. ( $$ (0, 0, 0, 1) $$ ) 

* 